import machine, kooka
import random
import time

eye_x = None
eye_y = None
size = None
open2 = None
mouth_x = None
mouth_y = None
mouth_width = None
mouth_height = None
eye_height = None
eye_open = None
face_midline = None
eyeline = None
eyesize = None

Number = (bool, int, float)

# Describe this function...
def eye(eye_x, eye_y, size, open2):
    global mouth_x, mouth_y, mouth_width, mouth_height, eye_height, eye_open, face_midline, eyeline, eyesize
    eye_height = size * (open2 / 10)
    kooka.display.fill_rect(int(eye_x - eyesize / 2), int(eyeline - eye_height / 2), int(size), int(eye_height), int(1))

# Describe this function...
def mouth(mouth_x, mouth_y, mouth_width, mouth_height):
    global eye_x, eye_y, size, open2, eye_height, eye_open, face_midline, eyeline, eyesize
    kooka.display.rect(int(mouth_x - mouth_width / 2), int(mouth_y - mouth_height / 2), int(mouth_width), int(mouth_height), int(1))



kooka.display.show()

# Initialise timer counters.
_timer200 = time.ticks_ms()
_timer20000 = time.ticks_ms()
_timer800 = time.ticks_ms()
_timer21000 = time.ticks_ms()
_timer15000 = time.ticks_ms()

# On-start code, run once at start-up.
if True:
    "Demo of animated face on the Kookaberry display"
    face_midline = 63
    eyeline = 20
    eyesize = 20
    eye_open = 5
    mouth_width = random.randint(40, 80)
    mouth_height = random.randint(4, 10)

# Main loop code, run continuously.
while True:
    if time.ticks_diff(time.ticks_ms(), _timer200) >= 0:
        _timer200 += 200
        kooka.display.clear()
        eye(face_midline - 30, eyeline, eyesize, eye_open)
        eye(face_midline + 30, eyeline, eyesize, eye_open)
        mouth(face_midline, eyeline * 2 + 10, mouth_width, mouth_height)
        eye_open = (eye_open if isinstance(eye_open, Number) else 0) + random.randint(-1, 1)
        eye_open = min(max(eye_open, 1), 10)
        mouth_height = (mouth_height if isinstance(mouth_height, Number) else 0) + random.randint(-1, 1)
        mouth_height = min(max(mouth_height, 2), 20)
        mouth_width = (mouth_width if isinstance(mouth_width, Number) else 0) + random.randint(-1, 1)
        mouth_width = min(max(mouth_width, 20), 80)
    if time.ticks_diff(time.ticks_ms(), _timer20000) >= 0:
        _timer20000 += 20000
        eye_open = 1
    if time.ticks_diff(time.ticks_ms(), _timer800) >= 0:
        _timer800 += 800
        face_midline = (face_midline if isinstance(face_midline, Number) else 0) + random.randint(-1, 1)
        face_midline = min(max(face_midline, 53), 73)
    if time.ticks_diff(time.ticks_ms(), _timer21000) >= 0:
        _timer21000 += 21000
        eye_open = 5
    if time.ticks_diff(time.ticks_ms(), _timer15000) >= 0:
        _timer15000 += 15000
        mouth_height = 2
    kooka.display.show()
    machine.idle()

# Generated Blockly XML follows
# <xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="9Tpw+$=0;Xfr+/Ai74;z">eye_x</variable><variable id="d^XSX$WxYd6}37G^bX)2">eye_y</variable><variable id="qM^|,5)KWdBlTMfN$@fl">size</variable><variable id="T{^.tTnN)^y#CZ_rl)yH">open</variable><variable id="Aj`^$Vtd:l01Uf%/juJx">mouth_x</variable><variable id="a,~k2=n`Wu9ZY8}7:!J|">mouth_y</variable><variable id="-cBD?D[O-K`jKumv{qdB">mouth_width</variable><variable id="C#5V|8O/55}3:DRqpnpW">mouth_height</variable><variable id="Y`t|o([`J-Q@%j;JZsXt">eye_height</variable><variable id="v2J~`+U)~_X|nXPga9@}">eye_open</variable><variable id="G[5ha:Ck}e,Itu,wcpP6">face_midline</variable><variable id="/5^,BEX?]n+UK+fC34ib">eyeline</variable><variable id=":jB_!2oRo[fS2+yeTV^J">eyesize</variable></variables><block type="event_on_start" id="a^xMAH0th$.eJS04(XU{" x="-270" y="-350"><statement name="DO"><block type="py_stmt" id="Dh_Rm[_QQrB9v2d{eA0j"><field name="STMT">"Demo of animated face on the Kookaberry display"</field><next><block type="variables_set" id="$(h`XP7eOJN5!1*pztu."><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field><value name="VALUE"><block type="math_number" id="E1QN%3JNd.`=}Xn_nC:b"><field name="NUM">63</field></block></value><next><block type="variables_set" id="|$+}$7vnfR7O4Q$5C@,0"><field name="VAR" id="/5^,BEX?]n+UK+fC34ib">eyeline</field><value name="VALUE"><block type="math_number" id="CBKyrf*@hk`}w.,i`gDO"><field name="NUM">20</field></block></value><next><block type="variables_set" id="G~BIm=SG!S4e9=(#Lf*S"><field name="VAR" id=":jB_!2oRo[fS2+yeTV^J">eyesize</field><value name="VALUE"><block type="math_number" id="~Ya3=Qf|K{NWZ%o%N%^I"><field name="NUM">20</field></block></value><next><block type="variables_set" id="$X4fZV3ZH2%9tscC?T4/"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field><value name="VALUE"><block type="math_number" id="V8FO)l5D!R8yptKUcqH@"><field name="NUM">5</field></block></value><next><block type="variables_set" id="|ZKo2bLQ^SsZ9e~eu#Rl"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field><value name="VALUE"><block type="math_random_int" id="$K6cjBT=[..D`S]R?zH?"><value name="FROM"><block type="math_number" id="qpYDU$hR,bj(VhhXflZs"><field name="NUM">40</field></block></value><value name="TO"><block type="math_number" id="t1M4WfWeKWf~BHt,/oB-"><field name="NUM">80</field></block></value></block></value><next><block type="variables_set" id="t~GoghLD^gY}[*v?HYDL"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field><value name="VALUE"><block type="math_random_int" id="Ckd@ja4C:VBgt8Ff}=76"><value name="FROM"><block type="math_number" id="eOcUW.#H/)rA]OS?IRC)"><field name="NUM">4</field></block></value><value name="TO"><block type="math_number" id="ELW?H%VEfCDos8IlL99|"><field name="NUM">10</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="event_every_seconds" id=";Fxt=[#U3nsj]$Q@Do42" x="390" y="-330"><field name="T">0.2</field><statement name="DO"><block type="display_clear" id="^o9pd+KZLde?QUXclk.("><next><block type="procedures_callnoreturn" id="RHe3x]2p$~jIO-a%SXF?"><mutation name="eye"><arg name="eye_x"></arg><arg name="eye_y"></arg><arg name="size"></arg><arg name="open"></arg></mutation><value name="ARG0"><block type="math_arithmetic" id="/u3p5NS`TP3z0ip!HSDP"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="hKa{kL+UZpTK7,^QcN;)"><field name="NUM">1</field></shadow><block type="variables_get" id="2j9tfLEAM}kL{i}h~[9m"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field></block></value><value name="B"><shadow type="math_number" id="2#nlB|9,Dxe}ael]xax_"><field name="NUM">30</field></shadow></value></block></value><value name="ARG1"><block type="variables_get" id="cW!~KM!}~NTC)%~~QcxW"><field name="VAR" id="/5^,BEX?]n+UK+fC34ib">eyeline</field></block></value><value name="ARG2"><block type="variables_get" id="r*gwZAn}j|S5A!jWuC1Y"><field name="VAR" id=":jB_!2oRo[fS2+yeTV^J">eyesize</field></block></value><value name="ARG3"><block type="variables_get" id="h:4vX4X?6!dEK!4z6-qO"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field></block></value><next><block type="procedures_callnoreturn" id="BStjtv*soGu47T`%!Y;}"><mutation name="eye"><arg name="eye_x"></arg><arg name="eye_y"></arg><arg name="size"></arg><arg name="open"></arg></mutation><value name="ARG0"><block type="math_arithmetic" id="[GHW2LMUlCFJ%-A5*gu?"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="r@Qc?1~VH?^tKs?zU}`j"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field></block></value><value name="B"><shadow type="math_number" id="RLYcP=Jlr1ah8DZDRR}h"><field name="NUM">30</field></shadow></value></block></value><value name="ARG1"><block type="variables_get" id="d_a2YxkT);QmrM/qiedC"><field name="VAR" id="/5^,BEX?]n+UK+fC34ib">eyeline</field></block></value><value name="ARG2"><block type="variables_get" id="i=KlH~MNpv6jUG5I6P+Y"><field name="VAR" id=":jB_!2oRo[fS2+yeTV^J">eyesize</field></block></value><value name="ARG3"><block type="variables_get" id="0+J%rb5P8zKIg8_Fljok"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field></block></value><next><block type="procedures_callnoreturn" id="~=`V{wxxxA|NjqtX}_V5"><mutation name="mouth"><arg name="mouth_x"></arg><arg name="mouth_y"></arg><arg name="mouth_width"></arg><arg name="mouth_height"></arg></mutation><value name="ARG0"><block type="variables_get" id="$!LCRy4mj_e5,FZSASHh"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field></block></value><value name="ARG1"><block type="math_mult_add" id="C#H}|IhnY*m$Cug{H=16"><value name="A"><shadow type="math_number" id="26%u7Bz!m#86+%;;uIXB"><field name="NUM">1</field></shadow><block type="variables_get" id="2k`5gkJDOAY2})NGu.{c"><field name="VAR" id="/5^,BEX?]n+UK+fC34ib">eyeline</field></block></value><value name="B"><shadow type="math_number" id="_5$9z`Vbu]9h/4%c$f1Q"><field name="NUM">2</field></shadow></value><value name="C"><shadow type="math_number" id="aGWr)`5?RS|P9UNe^)AG"><field name="NUM">10</field></shadow></value></block></value><value name="ARG2"><block type="variables_get" id="y:l@*t1D}P4BZ@?w4WcL"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field></block></value><value name="ARG3"><block type="variables_get" id="0U`eJvNHusNq+90b*)h?"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field></block></value><next><block type="math_change" id="c1UwCDW*aiMjr~B;M$nQ"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field><value name="DELTA"><shadow type="math_number" id="wna;0:a:t2$A`2x_5R~{"><field name="NUM">1</field></shadow><block type="math_random_int" id=".oh:]r6~jz@WWOg+U!h)"><value name="FROM"><block type="math_number" id=")X[`!wbhv6f:R5P)m={("><field name="NUM">-1</field></block></value><value name="TO"><block type="math_number" id="bT{jDl=XlP}cJ_+Jl2(H"><field name="NUM">1</field></block></value></block></value><next><block type="variables_set" id="$N=TmbX,Po8AD,?Q8#go"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field><value name="VALUE"><block type="math_constrain" id="[IwTRgE,nugh@v3xb+|H"><value name="VALUE"><block type="variables_get" id=":#6mhrr1ys-5$nt5Fb!m"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field></block></value><value name="LOW"><block type="math_number" id="H=-^6`?#h@8P9Y9?pV=~"><field name="NUM">1</field></block></value><value name="HIGH"><block type="math_number" id="r(W6aoG;QF4nGE#Xr]aM"><field name="NUM">10</field></block></value></block></value><next><block type="math_change" id="|k)GVWvYZ5LeF4AO!}%:"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field><value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_random_int" id=",anD.B;KQ/0HOVBdej@`"><value name="FROM"><block type="math_number" id="]~ngt$)x3Gt{s]izb4ha"><field name="NUM">-1</field></block></value><value name="TO"><block type="math_number" id="ZMih[^HpKNO;}8Z0yqxF"><field name="NUM">1</field></block></value></block></value><next><block type="variables_set" id="i2T^;,0E74WF%orF!#AT"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field><value name="VALUE"><block type="math_constrain" id="N.KqsP+o-`w!HpFvCDV{"><value name="VALUE"><block type="variables_get" id="YwA1d]5h/}@);Ce7^Y%w"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field></block></value><value name="LOW"><block type="math_number" id="yRN7uuRl{k5-kS4EF2V4"><field name="NUM">2</field></block></value><value name="HIGH"><block type="math_number" id="b}ux|-LqfaHf!2QL7ClE"><field name="NUM">20</field></block></value></block></value><next><block type="math_change" id="8]hwI#eH(+58fdMSOXLh"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field><value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_random_int" id="{t~u^fW8^L,$hz;c[[gY"><value name="FROM"><block type="math_number" id="4.ON#ZRSx^6y#x({V?6e"><field name="NUM">-1</field></block></value><value name="TO"><block type="math_number" id="=46JcMcKu_niAW=Pn;P^"><field name="NUM">1</field></block></value></block></value><next><block type="variables_set" id=":!*m7:iAx!pHe[cx-bv}"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field><value name="VALUE"><block type="math_constrain" id="0iovcOZ0=4Fzq!8uKH1-"><value name="VALUE"><block type="variables_get" id="`sc.7koo)^sGZZe@V1lX"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field></block></value><value name="LOW"><block type="math_number" id="g4g+vL$39tlE|T-j9Dd#"><field name="NUM">20</field></block></value><value name="HIGH"><block type="math_number" id="mxsaJxEs%/qVo{FUxOBc"><field name="NUM">80</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="o^htb;(p!~h-2OLQf_~V" x="-270" y="-70"><mutation><arg name="eye_x" varid="9Tpw+$=0;Xfr+/Ai74;z"></arg><arg name="eye_y" varid="d^XSX$WxYd6}37G^bX)2"></arg><arg name="size" varid="qM^|,5)KWdBlTMfN$@fl"></arg><arg name="open" varid="T{^.tTnN)^y#CZ_rl)yH"></arg></mutation><field name="NAME">eye</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="VX5;WBLiArR{Jh$tB}W3"><field name="VAR" id="Y`t|o([`J-Q@%j;JZsXt">eye_height</field><value name="VALUE"><block type="math_arithmetic" id="l,wzd/iCK_[Wn_YMi*wJ"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="ovEOZosdmV#C)`?{4o8{"><field name="NUM">1</field></shadow><block type="variables_get" id="fuoruV-WXwV9uMo24;+h"><field name="VAR" id="qM^|,5)KWdBlTMfN$@fl">size</field></block></value><value name="B"><shadow type="math_number" id="i9d*X^(]I`~A_z]#idFB"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="]/8Y!]j=1g^A[80V1*@d"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="(Ka/~/M[KJ$Wm4F8UVJh"><field name="VAR" id="T{^.tTnN)^y#CZ_rl)yH">open</field></block></value><value name="B"><shadow type="math_number" id="5lP8}DJTBQ#a6tKBbiAU"><field name="NUM">10</field></shadow></value></block></value></block></value><next><block type="display_rect_v2" id="9H@qbF#z]@J4P#47(;Y0"><field name="F">TRUE</field><field name="R">FALSE</field><value name="X"><shadow type="math_number" id="{`F{l7YM6UOwFP_[L;*)"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="9T*w(4}HN5{@h#t8bX#P"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="d[qa{|1C_E`)I],rd34$"><field name="NUM">1</field></shadow><block type="variables_get" id="(qK0yT#zVFJFO-+yqj:]"><field name="VAR" id="9Tpw+$=0;Xfr+/Ai74;z">eye_x</field></block></value><value name="B"><shadow type="math_number" id="K*}TI[fu@sT8$uCp?+ko"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="zY:@fXUGqgb^|7.V6,Sc"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="CV9oV/y=,Z:wjK.JP%W6"><field name="NUM">1</field></shadow><block type="variables_get" id="-X!xNV|?tJ[Pm|i3y|YR"><field name="VAR" id=":jB_!2oRo[fS2+yeTV^J">eyesize</field></block></value><value name="B"><shadow type="math_number" id="SyX!;UEWVY(g-ro8!1z+"><field name="NUM">2</field></shadow></value></block></value></block></value><value name="Y"><shadow type="math_number" id="hGS:JioOFEpyDRY1K5vS"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="nOe!`[;2Z:7?/L(fROkv"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id=",BH*McKAZrt]LT%IeC1S"><field name="VAR" id="/5^,BEX?]n+UK+fC34ib">eyeline</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="8a4@]{StSZURAP,ZHv)C"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="kv::j,?ewX6=)q5aDy3m"><field name="VAR" id="Y`t|o([`J-Q@%j;JZsXt">eye_height</field></block></value><value name="B"><shadow type="math_number" id="5=XRPX[$Z|}CaKA^pzd("><field name="NUM">2</field></shadow></value></block></value></block></value><value name="W"><shadow type="math_number" id="61fdmcP*Nh)v;_E/DJmH"><field name="NUM">10</field></shadow><block type="variables_get" id=",f^v1^_fquLNQ6lnuF$~"><field name="VAR" id="qM^|,5)KWdBlTMfN$@fl">size</field></block></value><value name="H"><shadow type="math_number" id="{SMN/`,+MEy){GbbD]ZM"><field name="NUM">10</field></shadow><block type="variables_get" id="K:pQ~+Vrpw~%59sKyt2Q"><field name="VAR" id="Y`t|o([`J-Q@%j;JZsXt">eye_height</field></block></value><value name="C"><shadow type="math_number" id=")#2^gJ*b:4l_mLW@2+E8"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="procedures_defnoreturn" id="R*9Xc4_,*sGBD`vKz`-?" x="-270" y="230"><mutation><arg name="mouth_x" varid="Aj`^$Vtd:l01Uf%/juJx"></arg><arg name="mouth_y" varid="a,~k2=n`Wu9ZY8}7:!J|"></arg><arg name="mouth_width" varid="-cBD?D[O-K`jKumv{qdB"></arg><arg name="mouth_height" varid="C#5V|8O/55}3:DRqpnpW"></arg></mutation><field name="NAME">mouth</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="display_rect_v2" id="7m%NnT82uP4`A%Iw_*pK"><field name="F">FALSE</field><field name="R">FALSE</field><value name="X"><shadow type="math_number" id=")0BfXWjUU(B-sVm53-%X"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="J0Wn`c$qiwy}=RRu=3oQ"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="M9=~m.7br3EC5m7p}z-("><field name="NUM">1</field></shadow><block type="variables_get" id="mG[40u^zeV^5Wv^vTd~u"><field name="VAR" id="Aj`^$Vtd:l01Uf%/juJx">mouth_x</field></block></value><value name="B"><shadow type="math_number" id="u3I(AqJ9_!x:0RSS:H{`"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="=.:WL#`[a5A5L+h*T:rL"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="(EFsZXhQQ|:sz4`~ik6O"><field name="NUM">1</field></shadow><block type="variables_get" id="6=oE9?T}t46UY+6oH/kp"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field></block></value><value name="B"><shadow type="math_number" id="`PjSF*E;8kJ;p;x[KW$/"><field name="NUM">2</field></shadow></value></block></value></block></value><value name="Y"><shadow type="math_number" id="(f}0/nI?,jh3@,m5|Bqj"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="pNujd:)!TcnA4Gnl@F31"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="i=d{6gyrovq9xmO9L$T%"><field name="VAR" id="a,~k2=n`Wu9ZY8}7:!J|">mouth_y</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Ni`QPQ,Rwb46D/]Q+Jr!"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="qgl*,wW2]KijgY:NOq0x"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field></block></value><value name="B"><shadow type="math_number" id="6^cW;*st,1YPh4;[p~#3"><field name="NUM">2</field></shadow></value></block></value></block></value><value name="W"><shadow type="math_number" id="/b^Ls}G.u,aB%zJf$bLo"><field name="NUM">10</field></shadow><block type="variables_get" id="dt0oBHeGL^lM`L7@aPJz"><field name="VAR" id="-cBD?D[O-K`jKumv{qdB">mouth_width</field></block></value><value name="H"><shadow type="math_number" id="sLh|D??5jF;O.oZ_SOm}"><field name="NUM">10</field></shadow><block type="variables_get" id="u8Mw)YB7G0NOX9.]W?Oo"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field></block></value><value name="C"><shadow type="math_number" id="3m$m+c#q;;+m7ZZRh~Y*"><field name="NUM">1</field></shadow></value></block></statement></block><block type="event_every_seconds" id="T_,`xgz0S/K15_28~5$T" x="-270" y="490"><field name="T">20</field><statement name="DO"><block type="variables_set" id="TMqqAcwnJnP(MCH+}Lg."><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field><value name="VALUE"><block type="math_number" id="2o}Y:MLS2^Ofyr.u%0K`"><field name="NUM">1</field></block></value></block></statement></block><block type="event_every_seconds" id="0+^8srLDSv:bF5D$.fw9" x="390" y="470"><field name="T">0.8</field><statement name="DO"><block type="math_change" id="!u]%,2X7%]GarC=4tqC,"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field><value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_random_int" id="[IX@d7.24c21`e5NU!TV"><value name="FROM"><block type="math_number" id="4;_vDe$)PyP6i|oP!)MG"><field name="NUM">-1</field></block></value><value name="TO"><block type="math_number" id="M)8oj-?*1$*6%dn=j,lY"><field name="NUM">1</field></block></value></block></value><next><block type="variables_set" id="$zBB}?iB!@]shzTSSrY,"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field><value name="VALUE"><block type="math_constrain" id="!eWGY[E:kOb$=%(M~Xv6"><value name="VALUE"><block type="variables_get" id="bal$~:dl1[#P24nh|fXb"><field name="VAR" id="G[5ha:Ck}e,Itu,wcpP6">face_midline</field></block></value><value name="LOW"><block type="math_number" id="AS{%(%j/81~]@EhX:wp,"><field name="NUM">53</field></block></value><value name="HIGH"><block type="math_number" id="!-qj#18~,p5tk!q!:8:1"><field name="NUM">73</field></block></value></block></value></block></next></block></statement></block><block type="event_every_seconds" id="GDik=811E5K]eze0Zmd/" x="-270" y="570"><field name="T">21</field><statement name="DO"><block type="variables_set" id=",E^jAQ({NA;-$!!`@*.:"><field name="VAR" id="v2J~`+U)~_X|nXPga9@}">eye_open</field><value name="VALUE"><block type="math_number" id="_Vl7u!VE9:w/gD-Z#y9%"><field name="NUM">5</field></block></value></block></statement></block><block type="event_every_seconds" id="AW$98PdSgf}5WReFwfSq" x="-270" y="650"><field name="T">15</field><statement name="DO"><block type="variables_set" id="WB`O(#X+9TLO`.:|%~)b"><field name="VAR" id="C#5V|8O/55}3:DRqpnpW">mouth_height</field><value name="VALUE"><block type="math_number" id="P7z4ypOL1V6?6%3{-g-!"><field name="NUM">2</field></block></value></block></statement></block></xml>
